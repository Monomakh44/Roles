<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
      xmlns="http://www.w3.org/1999/html">
<head>
    <title> Профиль </title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link th:href="@{/css/wallpaper.css}" rel="stylesheet" type="text/css">
    <link th:href="@{/css/style.css}" rel="stylesheet" type="text/css">
    <script th:src="@{/js/daypilot/Ready.js}" type="text/javascript"></script>
</head>
<body>

<div th:insert="blocks/Header.html :: header"></div>
<div class="container mt-5" style="text-align: center; padding-top: 60px"/>
<img th:src="'data:image/jpeg;base64,' + ${avatar}" style="border:1px solid black; border-radius: 100%" height="200" width="200"/>
<div class="mt-3 mb-3">
    <button type="button" class="btn btn-dark btn-primary" data-toggle="modal" data-target="#exampleModal">Изменить</button>
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="exampleModalLabel">Загрузка фото</h1>
                    <button type="button" class="btn-close" data-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form class="px-4 py-3" action="/profile" method="post" enctype="multipart/form-data">
                        <div class="form-group mb-4">
                            <div class="custom-file">
                                <input required type="file" name="avatar" id="avatar">
                            </div>
                        </div>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Закрыть</button>
                        <button type="submit" class="btn btn-primary">Загрузить</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<a th:each="user : ${user}">
    <a th:text="${user.email}"/><br>
    <a th:text="${user.name} + ' ' + ${user.surname}"/>
</a>
<footer class="footer" th:insert="blocks/Footer.html :: footer"></footer>
</body>
</html>